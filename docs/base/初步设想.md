我想着做一个 LLM 分发平台，核心诉求是吧 cc 国产化，并确保高智力调用

第一部分：一个API 聚合分发中枢 (API Hub)：
1. 上游渠道管理 (Channel Management)
    多模型协议适配：原生支持 OpenAI、Claude、Gemini 以及各类国产大模型。
    模型重定向 / 映射：将不同上游的模型名称统一映射为标准名称（如将 gpt-4-turbo-2024-04-09 映射为 gpt-4）。
    负载均衡 (Load Balancing)：同一种模型配置多个渠道，按权重轮询，防止单点故障。
    自动重试与熔断：上游 API 报错或超时（如 429 频次限制）时，自动切换到下一个可用渠道。
    连通性测试：一键批量测试所有上游 Key 的存活状态和延迟。
2. 下游令牌管理 (Token Management)
    多 Key 生成：用户可以为不同的应用或项目生成多个 Token。
    额度限制：为主流 Token 设置总消耗上限（Quota）。
    过期时间：设置 Token 的有效期。
    IP 白名单/黑名单：限制 Token 只能在特定服务器 IP 上调用。
3. 计费与财务系统 (Billing & Finance)
    多倍率计费模型：不同模型设置不同的 Token 扣费倍率（例如 GPT-4 计费基数是 GPT-3.5 的 10 倍）。
    分组计费 (VIP 体系)：不同用户分组享受不同的费率折扣（如普通用户、VIP 用户）。
    在线支付集成：对接 Stripe、支付宝、微信支付等易支付接口，实现自助充值。
    邀请返利机制：通过邀请链接注册，邀请人可获得额度提成，用于裂变营销。
4. 数据统计与日志 (Analytics & Logs)
    实时数据看板：统计今日消耗额度、请求次数、活跃用户等。
    明细日志记录：记录每一次请求的模型、消耗 Token 数、响应时间、调用 IP（不记录具体的 Prompt 以保护隐私）。
    异常告警：当渠道被封禁或余额不足时，通过邮件、钉钉、飞书等发送告警。
5. 用户与权限管理 (User Access Control)
    多角色权限：超级管理员（全权限）、普通用户（仅使用和充值）。
    单点登录 (SSO)：支持 GitHub、微信、Google 账号等第三方快捷登录。

第二部分：claude code转换系统
一句话是不管哪里来的什么模型，对外我们统一提供 cc 支持的标准接口和调用方式
1. 将各种模型转换成 claude code 支持的模型
2. 支持用户提供便宜的 API，我们平台进行封装
3. 模型映射成 cc 可以直接调用的模型，当然也要支持用户自定义设置 映射关系
4. claude code 调用时会调用 tools,和各种工具，需要平台单独支持
    支持分两种，用户调用什么工具和模型，我们实际也调用什么；第二种是我们内部协调调度的具体模型，根据用户的任务和会员等级来调控
5. 用户隔离制度，单次对话隔离/不同用户隔离
6. 参考 claude-mem等优质项目，实现不限上下文，通过不断总结和反思，把用户问题记录入库，总结，意图分析等技术方式，实现更优解，节约 token 的效果


第三部分：提智提效系统

简单说就是 claude code/gemini/openai/grok 优质的模型价格很高，我们会对模型进行调整国产化，实际调用国产化模型，实际效果可能优于国外大模型

1. 我们这个系统支持session/Run/Plan/Todo/agent/subagent/teamagentmcp/plugins//commands/hooks等等技术，实现和 claude code 一样的效果
    这个效果是为了兼容 claude code 的调优效果，我们使用同样的方式对 API 进行优化，对外提供更优服务
    白说话就是 api 的项目也是一个 claude code 项目，所有的 cc 插件也会对本项目进行优化，非全局的优化
2. 后台肯定会集成多个国产模型，我们会进行调度模型的竞选，如果回复准确率高，质量高，系统可自动切换该模型为调度模型，后台有调度模型竞选的数据，人为可以调整
3. 对于用户给的提供词，提供会进行分析，优化，让真正去调度 AI时实现更有的效果，等于有一个默认的提示词优化效果，这里需要有一个检视机制，确保原意不能修改 
4. 对于单用户的单项目会话，一般是 Claude code 单项目的对话，我们会定时汇总，减少误伤，确保项目的效果，反复进行反思，持续定时工作，消耗 token 可控，可持续工作
5. 定时参考网络的提升智力方式，对某些降智模型调整


第三部分： 后台
1. 录入模型
    可能有一些自定义的模型，我们会通过支持录入 python 之类的代码实现来搞，这个需要支持
2. 管理模型
3. 审查调度模型等，对不同会员的不同策略
4. 后台管理员/用户账号系列
5. 提示词优化,调用 API 前后的策略调整
    代码尽量模块化，方便后台类似堆积木似的调整调用 API 前后的相关策略调整
    包含 tools 兼容。提示词优化等一系列的支持
6. 类似 CC 那中，这套项目使用什么技术的选择，一定要方便安装，只对本项目生效session/Run/Plan/Todo/agent/subagent/teamagentmcp/plugins//commands/hooks
7. 模型映射，对不同等级会员/不同付费额度的用户 可设置不同策略
